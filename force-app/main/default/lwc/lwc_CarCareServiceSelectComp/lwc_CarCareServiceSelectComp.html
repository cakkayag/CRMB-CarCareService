<template>
    <div if:true={isLoaded}>
        <div if:true={hasError} class="Please_describe_the_service_th slds-align_absolute-center maxWidth600px"
            style="color:red">
            <span>Please select a service</span>
        </div>
        <fieldset class="slds-align_absolute-center maxWidth600px displayBlock">
            <template class="slds-form-element" for:each={availableServices} for:item='service'>
                <div class="slds-form-element__control" key={service.id}>
                    <div class="slds-checkbox serviceElement" key={service.id}>
                        <input type="checkbox" name="options" id={service.id} value={service.name}
                            checked={service.isSelected} onclick={handleSelection} />
                        <label class="slds-checkbox__label" for={service.id}>
                            <span class="slds-checkbox_faux servicesCheckBox"></span>
                            <span class="slds-form-element__label formElement">{service.name}</span>
                        </label>
                    </div>
                </div>
            </template>
        </fieldset>

        <div class="Additional_Info__optional_ slds-align_absolute-center maxWidth600px">
            <span>Additional Info (optional)</span>
        </div>
        <div class="Please_describe_the_service_th slds-align_absolute-center maxWidth600px">
            <span>Please describe the service that you are requesting. Put as much detail as possible so the technician
                can be more prepared. Describe any and all symptoms such as smells, noises, tremors, etc.</span>
        </div>
        
        <div class="AdditionalInputTextArea slds-align_absolute-center maxWidth600px">
            <lightning-textarea name="serviceAdditionalInfo" value={serviceAdditionalInfo}
                style="width: 100%; height:100%" onchange={onTextAreaChange}></lightning-textarea>
        </div>
    </div>
    <div if:true={isLoading} class="maxWidth600px">
        <lightning-spinner alternative-text="Loading" class="spins" size="small"></lightning-spinner>
    </div>

</template>